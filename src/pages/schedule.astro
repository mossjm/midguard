---
import BaseLayout from '../layouts/BaseLayout.astro';

const schedule = [
  {
    day: 'Monday',
    classes: [
      { name: 'Kids Jiu-Jitsu', time: '5:00 – 5:45 PM', type: 'kids' },
      { name: 'Adult Kickboxing', time: '6:00 – 7:00 PM', type: 'kickboxing' },
      { name: 'Open Mat', time: '7:00 – 7:30 PM', type: 'open' },
    ],
  },
  {
    day: 'Tuesday',
    classes: [
      { name: 'Ninja Kids', time: '5:00 – 5:45 PM', type: 'kids' },
      { name: 'Adult BJJ', time: '6:00 – 7:00 PM', type: 'bjj' },
      { name: 'Open Mat', time: '7:00 – 7:30 PM', type: 'open' },
    ],
  },
  {
    day: 'Wednesday',
    classes: [
      { name: 'Kids Jiu-Jitsu', time: '5:00 – 5:45 PM', type: 'kids' },
      { name: 'Adult Kickboxing', time: '6:00 – 7:00 PM', type: 'kickboxing' },
      { name: 'Open Mat', time: '7:00 – 7:30 PM', type: 'open' },
    ],
  },
  {
    day: 'Thursday',
    classes: [
      { name: 'Ninja Kids', time: '5:00 – 5:45 PM', type: 'kids' },
      { name: 'Adult BJJ', time: '6:00 – 7:00 PM', type: 'bjj' },
      { name: 'Open Mat', time: '7:00 – 7:30 PM', type: 'open' },
    ],
  },
  {
    day: 'Friday',
    classes: [
      { name: 'Open Training', time: '5:00 – 7:30 PM', type: 'open' },
    ],
  },
  {
    day: 'Saturday',
    classes: [
      { name: 'Open Mat / Sparring', time: '9:00 – 11:00 AM', type: 'open' },
    ],
  },
];

const legend = [
  { label: 'Kids Classes', color: 'bg-blue-500' },
  { label: 'Adult Kickboxing', color: 'bg-red-accent' },
  { label: 'Adult BJJ', color: 'bg-purple-500' },
  { label: 'Open Mat', color: 'bg-gold-accent' },
];

function borderColor(type: string): string {
  switch (type) {
    case 'kids': return 'border-blue-500';
    case 'kickboxing': return 'border-red-accent';
    case 'bjj': return 'border-purple-500';
    case 'open': return 'border-gold-accent';
    default: return 'border-gray-500';
  }
}

function bgColor(type: string): string {
  switch (type) {
    case 'kids': return 'bg-blue-500/10';
    case 'kickboxing': return 'bg-red-accent/10';
    case 'bjj': return 'bg-purple-500/10';
    case 'open': return 'bg-gold-accent/10';
    default: return 'bg-gray-500/10';
  }
}

function textColor(type: string): string {
  switch (type) {
    case 'kids': return 'text-blue-400';
    case 'kickboxing': return 'text-red-accent';
    case 'bjj': return 'text-purple-400';
    case 'open': return 'text-gold-accent';
    default: return 'text-gray-400';
  }
}
---

<BaseLayout title="Schedule">

  <!-- PAGE HERO -->
  <section class="bg-charcoal-900 py-20 md:py-28">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <span class="inline-block text-gold-accent text-sm font-semibold uppercase tracking-widest mb-4">
        Plan Your Training
      </span>
      <h1 class="text-4xl md:text-6xl font-heading text-white uppercase tracking-wider mb-6">
        Class Schedule
      </h1>
      <p class="text-gray-400 text-lg md:text-xl max-w-2xl mx-auto leading-relaxed">
        Consistent training builds champions. Find your class and commit to the journey.
      </p>
    </div>
  </section>

  <!-- WEEKLY SCHEDULE GRID -->
  <section class="bg-charcoal-950 py-16 md:py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

      <!-- Legend -->
      <div class="flex flex-wrap items-center justify-center gap-6 mb-12">
        {legend.map((item) => (
          <div class="flex items-center gap-2">
            <span class={`w-4 h-4 rounded-sm ${item.color}`}></span>
            <span class="text-gray-300 text-sm">{item.label}</span>
          </div>
        ))}
      </div>

      <!-- Mobile: Stacked Day Cards (visible below lg) -->
      <div class="lg:hidden space-y-6">
        {schedule.map((day) => (
          <div class="bg-charcoal-900 rounded-lg overflow-hidden">
            <div class="bg-charcoal-800 px-5 py-3">
              <h3 class="text-white font-heading text-lg uppercase tracking-wider">{day.day}</h3>
            </div>
            <div class="p-4 space-y-3">
              {day.classes.map((cls) => (
                <div class={`border-l-4 ${borderColor(cls.type)} ${bgColor(cls.type)} rounded-r-md px-4 py-3`}>
                  <p class={`font-semibold ${textColor(cls.type)} text-sm`}>{cls.name}</p>
                  <p class="text-gray-400 text-sm mt-0.5">{cls.time}</p>
                </div>
              ))}
            </div>
          </div>
        ))}
      </div>

      <!-- Desktop: Grid Table (visible at lg and above) -->
      <div class="hidden lg:block">
        <div class="grid grid-cols-6 gap-4">
          <!-- Day Headers -->
          {schedule.map((day) => (
            <div class="bg-charcoal-800 rounded-t-lg px-4 py-3 text-center">
              <h3 class="text-white font-heading text-base uppercase tracking-wider">{day.day}</h3>
            </div>
          ))}

          <!-- Class Cells -->
          {schedule.map((day) => (
            <div class="bg-charcoal-900 rounded-b-lg p-3 space-y-3 min-h-[200px]">
              {day.classes.map((cls) => (
                <div class={`border-l-4 ${borderColor(cls.type)} ${bgColor(cls.type)} rounded-r-md px-3 py-2.5`}>
                  <p class={`font-semibold ${textColor(cls.type)} text-sm leading-tight`}>{cls.name}</p>
                  <p class="text-gray-400 text-xs mt-1">{cls.time}</p>
                </div>
              ))}
            </div>
          ))}
        </div>
      </div>

    </div>
  </section>

  <!-- HOURS SECTION -->
  <section class="bg-charcoal-900 py-16 md:py-24">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl md:text-4xl font-heading text-white uppercase tracking-wider mb-10">
        Academy Hours
      </h2>

      <div class="bg-charcoal-800 rounded-lg p-8 md:p-10 space-y-4">
        <div class="flex items-center justify-between border-b border-white/10 pb-4">
          <span class="text-gray-300 text-lg">Mon – Fri</span>
          <span class="text-white font-semibold text-lg">5:00 PM – 7:30 PM</span>
        </div>
        <div class="flex items-center justify-between border-b border-white/10 pb-4">
          <span class="text-gray-300 text-lg">Saturday</span>
          <span class="text-white font-semibold text-lg">9:00 AM – 11:00 AM</span>
        </div>
        <div class="flex items-center justify-between">
          <span class="text-gray-300 text-lg">Sunday</span>
          <span class="text-red-accent font-semibold text-lg">Closed</span>
        </div>
      </div>

      <p class="text-gray-500 text-sm mt-6">
        Schedule subject to change. Contact us for the most up-to-date information.
      </p>
    </div>
  </section>

  <!-- CTA SECTION -->
  <section class="bg-gradient-to-r from-red-dark via-red-accent to-red-dark py-16 md:py-20">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl md:text-5xl font-heading text-white uppercase tracking-wider mb-4">
        Ready to Start Training?
      </h2>
      <p class="text-white/90 text-lg md:text-xl mb-8 max-w-2xl mx-auto">
        Your first class is free. No experience required.
      </p>
      <a
        href="/contact"
        class="inline-block px-10 py-4 bg-white text-red-accent font-bold uppercase tracking-wider rounded hover:bg-gray-100 transition-all duration-200 hover:scale-105 hover:shadow-lg text-lg"
      >
        Book Your Free Trial
      </a>
    </div>
  </section>

</BaseLayout>
